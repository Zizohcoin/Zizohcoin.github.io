<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <title>Verifica√ß√£o de Token ZOH</title>
</head>
<body>
  <h2>Verificar se a carteira possui o token ZOH</h2>
  <input type="text" id="walletInput" placeholder="Cole o endere√ßo da carteira aqui" size="50">
  <button onclick="verificarToken()">Verificar</button>
  <p id="status">Status: aguardando...</p>

  <script src="https://unpkg.com/@solana/web3.js@1.73.2/lib/index.iife.min.js"></script>
  <script>
    const TOKEN_ADDRESS = "22qVsVm2dyFg5WC72hQTdh92GgFqwboAQ7TMAHhfpump";

    async function verificarToken() {
      const walletInput = document.getElementById("walletInput").value.trim();
      const status = document.getElementById("status");

      if (!walletInput) {
        status.textContent = "Por favor, insira um endere√ßo de carteira.";
        return;
      }

      try {
        const publicKey = new solanaWeb3.PublicKey(walletInput);
        const connection = new solanaWeb3.Connection(
          solanaWeb3.clusterApiUrl("mainnet-beta"),
          "confirmed"
        );

        status.textContent = "üîç Verificando tokens...";

        const tokens = await connection.getParsedTokenAccountsByOwner(publicKey, {
          programId: new solanaWeb3.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA")
        });

        let encontrou = false;

        tokens.value.forEach((account) => {
          const info = account.account.data.parsed.info;
          const mint = info.mint;
          const amount = info.tokenAmount.uiAmount;

          console.log("Token:", mint, "Quantidade:", amount);

          if (mint === TOKEN_ADDRESS && parseFloat(amount) > 0) {
            encontrou = true;
          }
        });

        if (encontrou) {
          status.textContent = "‚úÖ Acesso liberado. Token ZOH encontrado!";
        } else {
          status.textContent = "‚õî Esta carteira n√£o possui o token ZOH.";
        }

      } catch (error) {
        console.error("Erro:", error);
        status.textContent = "‚ùå Erro ao verificar. Endere√ßo inv√°lido ou rede indispon√≠vel.";
      }
    }
  </script>
</body>
</html>
