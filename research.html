<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Área de Pesquisa ZOH</title>
  <style>
    body {
      font-family: sans-serif;
      padding: 2rem;
      max-width: 600px;
      margin: auto;
    }
    input, button {
      padding: 0.5rem;
      margin-top: 1rem;
      width: 100%;
      font-size: 1rem;
    }
    #resultado {
      margin-top: 2rem;
    }
  </style>
</head>
<body>
  <h2>🔐 Área de Pesquisa - Verificação de Token ZOH</h2>

  <p>Insira seu endereço de carteira Solana:</p>
  <input type="text" id="carteira" placeholder="Ex: 4wS7...">

  <button onclick="verificarToken()">Verificar</button>

  <div id="resultado"></div>

  <script>
    async function verificarToken() {
      const endereco = document.getElementById('carteira').value.trim();
      const resultado = document.getElementById('resultado');
      const tokenMint = "22qVsVm2dyFg5WC72hQTdh92GgFqwboAQ7TMAHhfpump";

      if (!endereco) {
        resultado.innerText = "Por favor, insira um endereço de carteira.";
        return;
      }

      resultado.innerText = "⏳ Verificando...";

      try {
        const response = await fetch("https://api.mainnet-beta.solana.com", {
          method: "POST",
          headers: {
            "Content-Type": "application/json"
          },
          body: JSON.stringify({
            jsonrpc: "2.0",
            id: 1,
            method: "getParsedTokenAccountsByOwner",
            params: [
              endereco,
              { programId: "TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA" },
              { encoding: "jsonParsed" }
            ]
          })
        });

        const data = await response.json();

        if (!data.result) {
          resultado.innerText = "❌ Erro ao buscar informações. Verifique o endereço e tente novamente.";
          return;
        }

        const tokens = data.result.value;
        const possui = tokens.some(account => {
          const info = account.account.data.parsed.info;
          return info.mint === tokenMint && parseFloat(info.tokenAmount.uiAmount) > 0;
        });

        if (possui) {
          resultado.innerHTML = "<p style='color:green;'>✅ Acesso liberado! Você possui o token ZOH.</p><p><strong>[Conteúdo da pesquisa aqui]</strong></p>";
        } else {
          resultado.innerHTML = "<p style='color:red;'>❌ Você não possui o token necessário ($ZOH).</p>";
        }

      } catch (err) {
        console.error(err);
        resultado.innerText = "❌ Erro ao verificar. Tente novamente mais tarde.";
      }
    }
  </script>
</body>
</html>
